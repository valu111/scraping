<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ofertas de Empleo</title>
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
   <link rel="stylesheet" href="css/output.css">  
  <!-- <script src="https://cdn.tailwindcss.com"></script> -->


     <style>
    #map {
      height: 400px;
      width: 100%;
      border-radius: 0.5rem;
        }

    .active-tab {
      background-color: #bfdbfe; /* Tailwind blue-200 */
      color: #1e40af; /* Tailwind blue-800 */
     }

  </style>
 
</head>
<body class="bg-indigo-600 ">

  <h1 class="text-3xl font-bold mb-6 text-center text-white">Ofertas de Empleo</h1>

  <nav class="bg-white py-4 shadow-md rounded-xl max-w-6xl mx-auto mb-6">
  <ul id="tabList" class="flex flex-wrap justify-center gap-4 px-4">
    <li class="select-tab active-tab cursor-pointer bg-blue-200 text-blue-800 font-semibold px-5 py-2 rounded-full shadow hover:bg-blue-300 transition duration-300">
      Todos
    </li>
    <li class="select-tab cursor-pointer bg-gray-100 text-gray-700 font-semibold px-5 py-2 rounded-full shadow hover:bg-gray-200 transition duration-300">
      Las 10 mejores ofertas de empleo
    </li>
    <li class="select-tab cursor-pointer bg-gray-100 text-gray-700 font-semibold px-5 py-2 rounded-full shadow hover:bg-gray-200 transition duration-300">
      Las 10 peores ofertas de empleo
    </li>
    <li class="select-tab cursor-pointer bg-gray-100 text-gray-700 font-semibold px-5 py-2 rounded-full shadow hover:bg-gray-200 transition duration-300">
      Mapa
    </li>
    <li class="select-tab cursor-pointer bg-gray-100 text-gray-700 font-semibold px-5 py-2 rounded-full shadow hover:bg-gray-200 transition duration-300">
      Equipo
    </li>
<li
  class="select-tab cursor-pointer bg-green-600 text-white font-semibold px-5 py-2 rounded-full shadow hover:bg-green-700 transition duration-300 flex items-center gap-2"
  onclick="window.location.href='index.html'"
>
  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
    <path stroke-linecap="round" stroke-linejoin="round" d="M19 12H5m0 0l6-6m-6 6l6 6" />
  </svg>
  Regresar
</li>
</nav>

<section class="select-context h-auto bg-blue-200 p-4 flex justify-center">
  <div class="w-full md:w-1/2 bg-white rounded-xl shadow-lg p-6">
    <h2 class="text-xl font-semibold text-blue-600 mb-4 text-center">Todas las Ofertas</h2>

    <div class="flex justify-center space-x-3 mb-4">
    <button id="btn-csv" class="bg-indigo-600 text-white px-4 py-2 rounded-md shadow hover:bg-indigo-700 transition flex items-center space-x-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4" />
        </svg>
        <span>Descargar CSV</span>
    </button>

    <button id="btn-json" class="bg-green-600 text-white px-4 py-2 rounded-md shadow hover:bg-green-700 transition flex items-center space-x-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4" />
        </svg>
        <span>Descargar JSON</span>
    </button>

    <button id="btn-xlsx" class="bg-yellow-500 text-white px-4 py-2 rounded-md shadow hover:bg-yellow-600 transition flex items-center space-x-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4" />
        </svg>
        <span>Descargar XLSX</span>
    </button>
</div>


    <div id="contenedor-todos" class="space-y-3"></div>
    <div id="descargas-todos" class="space-y-3"></div>
  </div>
</section>



  <section class="select-context h-auto bg-blue-200 p-4 flex justify-center hidden">
    <div class="w-full md:w-1/2 bg-white rounded-xl shadow-lg p-6">
      <h2 class="text-xl font-semibold text-green-600 mb-4 text-center">Mejores Ofertas</h2>
      <div id="mejores-lista" class="space-y-3"></div>
    </div>
  </section>

  
  <section class="select-context h-auto bg-blue-200 p-4 flex justify-center hidden">
    <div class="w-full md:w-1/2 bg-white rounded-xl shadow-lg p-6">
      <h2 class="text-xl font-semibold text-red-600 mb-4 text-center">Peores Ofertas</h2>
      <div id="peores-lista" class="space-y-3"></div>
    </div>
  </section>

  <section class="select-context h-auto bg-blue-200 p-4 flex justify-center">
    <div class="w-full md:w-1/2 bg-white rounded-xl shadow-lg p-6">
      <div id="map"></div>
    </div>
  </section>

  <section class="select-context h-auto bg-blue-200 p-8 flex justify-center">
    <div class="w-full max-w-6xl bg-white rounded-xl shadow-lg p-6">
      <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">Equipo</h2>
      
      <section class="grid gap-8 grid-cols-1 md:grid-cols-3">
        
        
<div class="bg-gray-100 rounded-xl shadow-lg overflow-hidden">
 
  <div class="h-40 bg-cover bg-center" style="background-image: url('img/fondo3.png');"></div>


  <div class="flex justify-center -mt-12">
    <img class="w-24 h-24 rounded-full border-4 border-white shadow-md" src="img/potaxie1.webp" alt="Avatar Osvaldo">
  </div>


  <div class="p-6 text-center">
    <h3 class="text-xl font-semibold text-gray-800">Osvaldo</h3>
    <p class="text-blue-500 mb-3">Desarrollador</p>
    <p class="text-gray-600 text-sm mb-4">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum fugiat commodi eius iste fugit? Necessitatibus commodi possimus sunt modi sint.
    </p>

 
    <div class="flex justify-center">
  <button class="flex items-center justify-center gap-2 px-5 py-2 bg-gray-800 text-white rounded-full text-sm hover:bg-gray-700 transition">
    <span>osvaldo@gmail.com</span>
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
      <path fill="#4caf50" d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"></path>
      <path fill="#1e88e5" d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"></path>
      <polygon fill="#e53935" points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"></polygon>
      <path fill="#c62828" d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"></path>
      <path fill="#fbc02d" d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"></path>
    </svg>
  </button>
</div>



    <div class="flex justify-center items-center gap-4 mt-6 h-1 w-1">
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<linearGradient id="Ld6sqrtcxMyckEl6xeDdMa_uLWV5A9vXIPu_gr1" x1="9.993" x2="40.615" y1="9.993" y2="40.615" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2aa4f4"></stop><stop offset="1" stop-color="#007ad9"></stop></linearGradient><path fill="url(#Ld6sqrtcxMyckEl6xeDdMa_uLWV5A9vXIPu_gr1)" d="M24,4C12.954,4,4,12.954,4,24s8.954,20,20,20s20-8.954,20-20S35.046,4,24,4z"></path><path fill="#fff" d="M26.707,29.301h5.176l0.813-5.258h-5.989v-2.874c0-2.184,0.714-4.121,2.757-4.121h3.283V12.46 c-0.577-0.078-1.797-0.248-4.102-0.248c-4.814,0-7.636,2.542-7.636,8.334v3.498H16.06v5.258h4.948v14.452 C21.988,43.9,22.981,44,24,44c0.921,0,1.82-0.084,2.707-0.204V29.301z"></path>
</svg>
      </a>
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
    <path d="M17.791,46.836C18.502,46.53,19,45.823,19,45v-5.4c0-0.197,0.016-0.402,0.041-0.61C19.027,38.994,19.014,38.997,19,39 c0,0-3,0-3.6,0c-1.5,0-2.8-0.6-3.4-1.8c-0.7-1.3-1-3.5-2.8-4.7C8.9,32.3,9.1,32,9.7,32c0.6,0.1,1.9,0.9,2.7,2c0.9,1.1,1.8,2,3.4,2 c2.487,0,3.82-0.125,4.622-0.555C21.356,34.056,22.649,33,24,33v-0.025c-5.668-0.182-9.289-2.066-10.975-4.975 c-3.665,0.042-6.856,0.405-8.677,0.707c-0.058-0.327-0.108-0.656-0.151-0.987c1.797-0.296,4.843-0.647,8.345-0.714 c-0.112-0.276-0.209-0.559-0.291-0.849c-3.511-0.178-6.541-0.039-8.187,0.097c-0.02-0.332-0.047-0.663-0.051-0.999 c1.649-0.135,4.597-0.27,8.018-0.111c-0.079-0.5-0.13-1.011-0.13-1.543c0-1.7,0.6-3.5,1.7-5c-0.5-1.7-1.2-5.3,0.2-6.6 c2.7,0,4.6,1.3,5.5,2.1C21,13.4,22.9,13,25,13s4,0.4,5.6,1.1c0.9-0.8,2.8-2.1,5.5-2.1c1.5,1.4,0.7,5,0.2,6.6c1.1,1.5,1.7,3.2,1.6,5 c0,0.484-0.045,0.951-0.11,1.409c3.499-0.172,6.527-0.034,8.204,0.102c-0.002,0.337-0.033,0.666-0.051,0.999 c-1.671-0.138-4.775-0.28-8.359-0.089c-0.089,0.336-0.197,0.663-0.325,0.98c3.546,0.046,6.665,0.389,8.548,0.689 c-0.043,0.332-0.093,0.661-0.151,0.987c-1.912-0.306-5.171-0.664-8.879-0.682C35.112,30.873,31.557,32.75,26,32.969V33 c2.6,0,5,3.9,5,6.6V45c0,0.823,0.498,1.53,1.209,1.836C41.37,43.804,48,35.164,48,25C48,12.318,37.683,2,25,2S2,12.318,2,25 C2,35.164,8.63,43.804,17.791,46.836z"></path>
</svg>
      </a>
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#0078d4" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5	V37z"></path><path d="M30,37V26.901c0-1.689-0.819-2.698-2.192-2.698c-0.815,0-1.414,0.459-1.779,1.364	c-0.017,0.064-0.041,0.325-0.031,1.114L26,37h-7V18h7v1.061C27.022,18.356,28.275,18,29.738,18c4.547,0,7.261,3.093,7.261,8.274	L37,37H30z M11,37V18h3.457C12.454,18,11,16.528,11,14.499C11,12.472,12.478,11,14.514,11c2.012,0,3.445,1.431,3.486,3.479	C18,16.523,16.521,18,14.485,18H18v19H11z" opacity=".05"></path><path d="M30.5,36.5v-9.599c0-1.973-1.031-3.198-2.692-3.198c-1.295,0-1.935,0.912-2.243,1.677	c-0.082,0.199-0.071,0.989-0.067,1.326L25.5,36.5h-6v-18h6v1.638c0.795-0.823,2.075-1.638,4.238-1.638	c4.233,0,6.761,2.906,6.761,7.774L36.5,36.5H30.5z M11.5,36.5v-18h6v18H11.5z M14.457,17.5c-1.713,0-2.957-1.262-2.957-3.001	c0-1.738,1.268-2.999,3.014-2.999c1.724,0,2.951,1.229,2.986,2.989c0,1.749-1.268,3.011-3.015,3.011H14.457z" opacity=".07"></path><path fill="#fff" d="M12,19h5v17h-5V19z M14.485,17h-0.028C12.965,17,12,15.888,12,14.499C12,13.08,12.995,12,14.514,12	c1.521,0,2.458,1.08,2.486,2.499C17,15.887,16.035,17,14.485,17z M36,36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698	c-1.501,0-2.313,1.012-2.707,1.99C24.957,25.543,25,26.511,25,27v9h-5V19h5v2.616C25.721,20.5,26.85,19,29.738,19	c3.578,0,6.261,2.25,6.261,7.274L36,36L36,36z"></path>
</svg>
      </a>
    </div>
  </div>
</div>

      
    
      <div class="bg-gray-100 rounded-xl shadow-lg overflow-hidden">

  <div class="h-40 bg-cover bg-center" style="background-image: url('img/fonfo1.webp');"></div>


  <div class="flex justify-center -mt-12">
    <img class="w-24 h-24 rounded-full border-4 border-white shadow-md" src="img/potaxie4.jpg" alt="Avatar Sarahi">
  </div>


  <div class="p-6 text-center">
    <h3 class="text-xl font-semibold text-gray-800">Sarahi</h3>
    <p class="text-blue-500 mb-3">Desarrollador</p>
    <p class="text-gray-600 text-sm mb-4">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum fugiat commodi eius iste fugit? Necessitatibus commodi possimus sunt modi sint.
    </p>


    <div class="flex justify-center">
  <button class="flex items-center justify-center gap-2 px-5 py-2 bg-gray-800 text-white rounded-full text-sm hover:bg-gray-700 transition">
    <span>sarahi@gmail.com</span>
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
      <path fill="#4caf50" d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"></path>
      <path fill="#1e88e5" d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"></path>
      <polygon fill="#e53935" points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"></polygon>
      <path fill="#c62828" d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"></path>
      <path fill="#fbc02d" d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"></path>
    </svg>
  </button>
</div>


    <div class="flex justify-center items-center gap-4 mt-6 h-1 w-1">
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<linearGradient id="Ld6sqrtcxMyckEl6xeDdMa_uLWV5A9vXIPu_gr1" x1="9.993" x2="40.615" y1="9.993" y2="40.615" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2aa4f4"></stop><stop offset="1" stop-color="#007ad9"></stop></linearGradient><path fill="url(#Ld6sqrtcxMyckEl6xeDdMa_uLWV5A9vXIPu_gr1)" d="M24,4C12.954,4,4,12.954,4,24s8.954,20,20,20s20-8.954,20-20S35.046,4,24,4z"></path><path fill="#fff" d="M26.707,29.301h5.176l0.813-5.258h-5.989v-2.874c0-2.184,0.714-4.121,2.757-4.121h3.283V12.46 c-0.577-0.078-1.797-0.248-4.102-0.248c-4.814,0-7.636,2.542-7.636,8.334v3.498H16.06v5.258h4.948v14.452 C21.988,43.9,22.981,44,24,44c0.921,0,1.82-0.084,2.707-0.204V29.301z"></path>
</svg>
      </a>
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
    <path d="M17.791,46.836C18.502,46.53,19,45.823,19,45v-5.4c0-0.197,0.016-0.402,0.041-0.61C19.027,38.994,19.014,38.997,19,39 c0,0-3,0-3.6,0c-1.5,0-2.8-0.6-3.4-1.8c-0.7-1.3-1-3.5-2.8-4.7C8.9,32.3,9.1,32,9.7,32c0.6,0.1,1.9,0.9,2.7,2c0.9,1.1,1.8,2,3.4,2 c2.487,0,3.82-0.125,4.622-0.555C21.356,34.056,22.649,33,24,33v-0.025c-5.668-0.182-9.289-2.066-10.975-4.975 c-3.665,0.042-6.856,0.405-8.677,0.707c-0.058-0.327-0.108-0.656-0.151-0.987c1.797-0.296,4.843-0.647,8.345-0.714 c-0.112-0.276-0.209-0.559-0.291-0.849c-3.511-0.178-6.541-0.039-8.187,0.097c-0.02-0.332-0.047-0.663-0.051-0.999 c1.649-0.135,4.597-0.27,8.018-0.111c-0.079-0.5-0.13-1.011-0.13-1.543c0-1.7,0.6-3.5,1.7-5c-0.5-1.7-1.2-5.3,0.2-6.6 c2.7,0,4.6,1.3,5.5,2.1C21,13.4,22.9,13,25,13s4,0.4,5.6,1.1c0.9-0.8,2.8-2.1,5.5-2.1c1.5,1.4,0.7,5,0.2,6.6c1.1,1.5,1.7,3.2,1.6,5 c0,0.484-0.045,0.951-0.11,1.409c3.499-0.172,6.527-0.034,8.204,0.102c-0.002,0.337-0.033,0.666-0.051,0.999 c-1.671-0.138-4.775-0.28-8.359-0.089c-0.089,0.336-0.197,0.663-0.325,0.98c3.546,0.046,6.665,0.389,8.548,0.689 c-0.043,0.332-0.093,0.661-0.151,0.987c-1.912-0.306-5.171-0.664-8.879-0.682C35.112,30.873,31.557,32.75,26,32.969V33 c2.6,0,5,3.9,5,6.6V45c0,0.823,0.498,1.53,1.209,1.836C41.37,43.804,48,35.164,48,25C48,12.318,37.683,2,25,2S2,12.318,2,25 C2,35.164,8.63,43.804,17.791,46.836z"></path>
</svg>
      </a>
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#0078d4" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5	V37z"></path><path d="M30,37V26.901c0-1.689-0.819-2.698-2.192-2.698c-0.815,0-1.414,0.459-1.779,1.364	c-0.017,0.064-0.041,0.325-0.031,1.114L26,37h-7V18h7v1.061C27.022,18.356,28.275,18,29.738,18c4.547,0,7.261,3.093,7.261,8.274	L37,37H30z M11,37V18h3.457C12.454,18,11,16.528,11,14.499C11,12.472,12.478,11,14.514,11c2.012,0,3.445,1.431,3.486,3.479	C18,16.523,16.521,18,14.485,18H18v19H11z" opacity=".05"></path><path d="M30.5,36.5v-9.599c0-1.973-1.031-3.198-2.692-3.198c-1.295,0-1.935,0.912-2.243,1.677	c-0.082,0.199-0.071,0.989-0.067,1.326L25.5,36.5h-6v-18h6v1.638c0.795-0.823,2.075-1.638,4.238-1.638	c4.233,0,6.761,2.906,6.761,7.774L36.5,36.5H30.5z M11.5,36.5v-18h6v18H11.5z M14.457,17.5c-1.713,0-2.957-1.262-2.957-3.001	c0-1.738,1.268-2.999,3.014-2.999c1.724,0,2.951,1.229,2.986,2.989c0,1.749-1.268,3.011-3.015,3.011H14.457z" opacity=".07"></path><path fill="#fff" d="M12,19h5v17h-5V19z M14.485,17h-0.028C12.965,17,12,15.888,12,14.499C12,13.08,12.995,12,14.514,12	c1.521,0,2.458,1.08,2.486,2.499C17,15.887,16.035,17,14.485,17z M36,36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698	c-1.501,0-2.313,1.012-2.707,1.99C24.957,25.543,25,26.511,25,27v9h-5V19h5v2.616C25.721,20.5,26.85,19,29.738,19	c3.578,0,6.261,2.25,6.261,7.274L36,36L36,36z"></path>
</svg>
      </a>
    </div>
  </div>
</div>
      <div class="bg-gray-100 rounded-xl shadow-lg overflow-hidden">

  <div class="h-40 bg-cover bg-center" style="background-image: url('img/fondo2.jpg');"></div>


  <div class="flex justify-center -mt-12">
    <img class="w-24 h-24 rounded-full border-4 border-white shadow-md" src="img/potaxie5.jpg" alt="Avatar Osvaldo">
  </div>


  <div class="p-6 text-center">
    <h3 class="text-xl font-semibold text-gray-800">Sheyla</h3>
    <p class="text-blue-500 mb-3">Desarrollador</p>
    <p class="text-gray-600 text-sm mb-4">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum fugiat commodi eius iste fugit? Necessitatibus commodi possimus sunt modi sint.
    </p>

 
    <div class="flex justify-center">
  <button class="flex items-center justify-center gap-2 px-5 py-2 bg-gray-800 text-white rounded-full text-sm hover:bg-gray-700 transition">
    <span>sheyla@gmail.com</span>
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
      <path fill="#4caf50" d="M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z"></path>
      <path fill="#1e88e5" d="M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z"></path>
      <polygon fill="#e53935" points="35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17"></polygon>
      <path fill="#c62828" d="M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z"></path>
      <path fill="#fbc02d" d="M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z"></path>
    </svg>
  </button>
</div>



    <div class="flex justify-center items-center gap-4 mt-6 h-1 w-1">
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<linearGradient id="Ld6sqrtcxMyckEl6xeDdMa_uLWV5A9vXIPu_gr1" x1="9.993" x2="40.615" y1="9.993" y2="40.615" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2aa4f4"></stop><stop offset="1" stop-color="#007ad9"></stop></linearGradient><path fill="url(#Ld6sqrtcxMyckEl6xeDdMa_uLWV5A9vXIPu_gr1)" d="M24,4C12.954,4,4,12.954,4,24s8.954,20,20,20s20-8.954,20-20S35.046,4,24,4z"></path><path fill="#fff" d="M26.707,29.301h5.176l0.813-5.258h-5.989v-2.874c0-2.184,0.714-4.121,2.757-4.121h3.283V12.46 c-0.577-0.078-1.797-0.248-4.102-0.248c-4.814,0-7.636,2.542-7.636,8.334v3.498H16.06v5.258h4.948v14.452 C21.988,43.9,22.981,44,24,44c0.921,0,1.82-0.084,2.707-0.204V29.301z"></path>
</svg>
      </a>
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
    <path d="M17.791,46.836C18.502,46.53,19,45.823,19,45v-5.4c0-0.197,0.016-0.402,0.041-0.61C19.027,38.994,19.014,38.997,19,39 c0,0-3,0-3.6,0c-1.5,0-2.8-0.6-3.4-1.8c-0.7-1.3-1-3.5-2.8-4.7C8.9,32.3,9.1,32,9.7,32c0.6,0.1,1.9,0.9,2.7,2c0.9,1.1,1.8,2,3.4,2 c2.487,0,3.82-0.125,4.622-0.555C21.356,34.056,22.649,33,24,33v-0.025c-5.668-0.182-9.289-2.066-10.975-4.975 c-3.665,0.042-6.856,0.405-8.677,0.707c-0.058-0.327-0.108-0.656-0.151-0.987c1.797-0.296,4.843-0.647,8.345-0.714 c-0.112-0.276-0.209-0.559-0.291-0.849c-3.511-0.178-6.541-0.039-8.187,0.097c-0.02-0.332-0.047-0.663-0.051-0.999 c1.649-0.135,4.597-0.27,8.018-0.111c-0.079-0.5-0.13-1.011-0.13-1.543c0-1.7,0.6-3.5,1.7-5c-0.5-1.7-1.2-5.3,0.2-6.6 c2.7,0,4.6,1.3,5.5,2.1C21,13.4,22.9,13,25,13s4,0.4,5.6,1.1c0.9-0.8,2.8-2.1,5.5-2.1c1.5,1.4,0.7,5,0.2,6.6c1.1,1.5,1.7,3.2,1.6,5 c0,0.484-0.045,0.951-0.11,1.409c3.499-0.172,6.527-0.034,8.204,0.102c-0.002,0.337-0.033,0.666-0.051,0.999 c-1.671-0.138-4.775-0.28-8.359-0.089c-0.089,0.336-0.197,0.663-0.325,0.98c3.546,0.046,6.665,0.389,8.548,0.689 c-0.043,0.332-0.093,0.661-0.151,0.987c-1.912-0.306-5.171-0.664-8.879-0.682C35.112,30.873,31.557,32.75,26,32.969V33 c2.6,0,5,3.9,5,6.6V45c0,0.823,0.498,1.53,1.209,1.836C41.37,43.804,48,35.164,48,25C48,12.318,37.683,2,25,2S2,12.318,2,25 C2,35.164,8.63,43.804,17.791,46.836z"></path>
</svg>
      </a>
      <a href="#" target="_blank">
        <svg class="w-5 h-5"  xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 48 48">
<path fill="#0078d4" d="M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5	V37z"></path><path d="M30,37V26.901c0-1.689-0.819-2.698-2.192-2.698c-0.815,0-1.414,0.459-1.779,1.364	c-0.017,0.064-0.041,0.325-0.031,1.114L26,37h-7V18h7v1.061C27.022,18.356,28.275,18,29.738,18c4.547,0,7.261,3.093,7.261,8.274	L37,37H30z M11,37V18h3.457C12.454,18,11,16.528,11,14.499C11,12.472,12.478,11,14.514,11c2.012,0,3.445,1.431,3.486,3.479	C18,16.523,16.521,18,14.485,18H18v19H11z" opacity=".05"></path><path d="M30.5,36.5v-9.599c0-1.973-1.031-3.198-2.692-3.198c-1.295,0-1.935,0.912-2.243,1.677	c-0.082,0.199-0.071,0.989-0.067,1.326L25.5,36.5h-6v-18h6v1.638c0.795-0.823,2.075-1.638,4.238-1.638	c4.233,0,6.761,2.906,6.761,7.774L36.5,36.5H30.5z M11.5,36.5v-18h6v18H11.5z M14.457,17.5c-1.713,0-2.957-1.262-2.957-3.001	c0-1.738,1.268-2.999,3.014-2.999c1.724,0,2.951,1.229,2.986,2.989c0,1.749-1.268,3.011-3.015,3.011H14.457z" opacity=".07"></path><path fill="#fff" d="M12,19h5v17h-5V19z M14.485,17h-0.028C12.965,17,12,15.888,12,14.499C12,13.08,12.995,12,14.514,12	c1.521,0,2.458,1.08,2.486,2.499C17,15.887,16.035,17,14.485,17z M36,36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698	c-1.501,0-2.313,1.012-2.707,1.99C24.957,25.543,25,26.511,25,27v9h-5V19h5v2.616C25.721,20.5,26.85,19,29.738,19	c3.578,0,6.261,2.25,6.261,7.274L36,36L36,36z"></path>
</svg>
      </a>
    </div>
  </div>
</div>
    </section>
  </div>
</section>


 
  <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-50 justify-center items-center z-50">
    <div class="bg-white p-6 rounded-lg w-11/12 md:w-1/2 max-w-xl">
      <img id="modal-imagen" class="w-20 h-20 object-contain mx-auto mb-4" />
      <h2 id="modal-titulo" class="text-xl font-bold text-center mb-2"></h2>
      <p id="modal-subtitulo" class="text-center text-gray-600 mb-2"></p>
      <p id="modal-texto" class="text-sm text-gray-700 mb-2"></p>
      <p id="modal-ubicacion" class="text-sm text-gray-700 mb-1"></p>
      <p id="modal-estado" class="text-sm text-gray-700 mb-4"></p>
      <a id="modal-enlace" target="_blank" class="block text-center text-blue-600 underline mb-4">Ver oferta</a>
      <button onclick="cerrarModal()" class="w-full bg-red-500 text-white py-2 rounded hover:bg-red-600">Cerrar</button>
    </div>
  </div>
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

  <script src="tabs.js"></script>
  <script src="mapa.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

      <script>
/* --- Asegúrate primero: renombrar el id de los botones de descarga a "descargas-todos" --- */

/* Variables globales */
let ofertas = [];
let rankingField = null;
let mejores = [];
let peores = [];

/* Detecta un campo numérico para ordenar (si existe) */
function detectarCampoRanking(data) {
  const candidatos = ['score','rating','puntuacion','puntuación','puntuación','salario','sueldo','salary'];
  for (const c of candidatos) {
    if (data.some(o => o && o[c] !== undefined && o[c] !== null && !isNaN(Number(o[c])))) return c;
  }
  return null;
}

/* Divide lista en top 10 y bottom 10 */
function dividirTopBottom(lista) {
  if (!lista || lista.length === 0) {
    mejores = [];
    peores = [];
    return;
  }
  if (rankingField) {
    const ordenadas = [...lista].sort((a,b) => Number(b[rankingField]||0) - Number(a[rankingField]||0));
    mejores = ordenadas.slice(0, 10);
    peores = ordenadas.slice(Math.max(ordenadas.length-10, 0));
  } else {
    // si no hay campo, usar orden original: primeros 10 y últimos 10
    mejores = lista.slice(0, 10);
    peores = lista.slice(Math.max(lista.length-10, 0));
  }
}

/* Muestra la cuadrícula principal (Todas) - adaptación de tu mostrarTarjetas */
function mostrarTarjetas(lista) {
  const contenedor = document.getElementById("contenedor-todos");
  if (!contenedor) {
    console.error('No se encontró #contenedor-todos. Revisa IDs duplicados.');
    return;
  }
  contenedor.innerHTML = "";

  if (!lista || lista.length === 0) {
    contenedor.innerHTML = `
      <div class="flex flex-col items-center justify-center p-8 text-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h3 class="mt-4 text-lg font-medium text-gray-700">No se encontraron resultados</h3>
        <p class="mt-1 text-gray-500">Intenta con otros términos de búsqueda</p>
      </div>
    `;
    return;
  }

  const gridContainer = document.createElement("div");
  gridContainer.className = "grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4";

  lista.forEach(oferta => {
    const card = document.createElement("div");
    card.className = "bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-transform duration-200 hover:-translate-y-1";
    card.innerHTML = `
      <div class="p-5">
        <div class="flex items-start gap-4">
          <img src="${oferta.imagen || 'placeholder.jpg'}" alt="Logo" class="w-12 h-12 object-contain rounded-full border-2 border-white shadow">
          <div class="flex-1 min-w-0">
            <h3 class="font-semibold text-gray-800 truncate">${oferta.titulo || 'Sin título'}</h3>
            <p class="text-sm text-gray-600 mt-1 truncate">${oferta.subtitulo || ''}</p>
          </div>
        </div>
        ${oferta.texto ? `<p class="mt-3 text-sm text-gray-500 line-clamp-2">${oferta.texto}</p>` : ''}
        <div class="mt-4 flex flex-wrap gap-2 items-center">
          ${oferta.ubicacion ? `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">${oferta.ubicacion}</span>` : ''}
          ${oferta.estado ? `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">${oferta.estado}</span>` : ''}
          ${rankingField ? `<span class="ml-auto text-xs text-gray-600"> ${oferta[rankingField] ?? ''} </span>` : ''}
        </div>
      </div>
    `;
    card.onclick = () => {
      if (typeof mostrarModal === 'function') mostrarModal(oferta);
      // si no existe mostrarModal, puedes abrir una nueva vista o console.log(oferta)
    };
    gridContainer.appendChild(card);
  });

  contenedor.appendChild(gridContainer);
}

/* Renderiza una lista simple para mejores/peores */
function renderListaSimple(lista, containerId, tipo = '') {
  const cont = document.getElementById(containerId);
  if (!cont) return;
  cont.innerHTML = '';
  if (!lista || lista.length === 0) {
    cont.innerHTML = `<p class="text-center text-gray-500">Sin resultados</p>`;
    return;
  }

  lista.forEach((oferta, i) => {
    const orden = (tipo === 'mejores') ? (i + 1) : (i + 1);
    const valorRanking = rankingField ? (oferta[rankingField] ?? '') : '';
    const item = document.createElement('div');
    item.className = "p-3 border rounded-md flex justify-between items-center hover:bg-gray-50";
    item.innerHTML = `
      <div>
        <div class="font-semibold">${orden}. ${oferta.titulo || 'Sin título'}</div>
        <div class="text-sm text-gray-500">${oferta.subtitulo || ''}</div>
      </div>
      <div class="text-right">
        ${ valorRanking !== '' ? `<div class="text-sm text-gray-700"> ${valorRanking} </div>` : '' }
        <button class="mt-2 text-xs text-indigo-600 hover:underline">Ver</button>
      </div>
    `;
    item.querySelector('button')?.addEventListener('click', () => {
      if (typeof mostrarModal === 'function') mostrarModal(oferta);
    });
    cont.appendChild(item);
  });
}

/* Procesa lista y actualiza todas las vistas */
function procesarYMostrar(lista) {
  dividirTopBottom(lista);
  mostrarTarjetas(lista);
  renderListaSimple(mejores, 'mejores-lista', 'mejores');
  renderListaSimple(peores, 'peores-lista', 'peores');
}

/* Filtrado simple (usa tu función) */
function filtrarOfertas(termino) {
  return ofertas.filter(oferta =>
    (oferta.titulo && oferta.titulo.toLowerCase().includes(termino.toLowerCase()))
  );
}

/* DOM ready */
document.addEventListener("DOMContentLoaded", () => {
  const terminoGuardado = localStorage.getItem("terminoBusqueda") || "";

  fetch("empleos.json")
    .then(res => res.json())
    .then(data => {
      ofertas = data || [];
      rankingField = detectarCampoRanking(ofertas);
      // si hay termino guardado, filtra
      if (terminoGuardado) {
        const filtradas = filtrarOfertas(terminoGuardado);
        procesarYMostrar(filtradas);
        // opcion: localStorage.removeItem("terminoBusqueda");
      } else {
        procesarYMostrar(ofertas);
      }
    })
    .catch(err => {
      console.error('Error cargando empleos.json', err);
      const contenedor = document.getElementById("contenedor-todos");
      if (contenedor) contenedor.innerHTML = "<p class='text-red-500'>Error al cargar datos.</p>";
    });

  /* Manejo de pestañas: además de cambiar estilos, mostramos/ocultamos secciones */
  const tabs = document.querySelectorAll('.select-tab');
  const sections = document.querySelectorAll('.select-context');

  tabs.forEach((tab, idx) => {
    tab.addEventListener('click', function () {
      // clases visuales
      tabs.forEach(el => {
        el.classList.remove('active-tab', 'bg-blue-200', 'text-blue-800');
        el.classList.add('bg-gray-100', 'text-gray-700');
      });
      this.classList.add('active-tab', 'bg-blue-200', 'text-blue-800');
      this.classList.remove('bg-gray-100', 'text-gray-700');

      // mapa de pestañas -> secciones por posición (si tu HTML mantiene el mismo orden)
      // Nota: si tienes más tabs que sections (ej: "Regresar") lo ignoramos.
      sections.forEach(s => s.classList.add('hidden'));
      if (idx < sections.length) {
        sections[idx].classList.remove('hidden');
      }
    });
  });

  function procesarResultados(ofertas) {
    // Validar que haya datos
    if (!Array.isArray(ofertas) || ofertas.length === 0) {
        console.error("No hay ofertas disponibles.");
        return;
    }

    // Ordenar de mayor a menor según salario (puedes cambiar por score u otro campo)
    let ordenadas = [...ofertas].sort((a, b) => b.salario - a.salario);

    // 10 mejores
    let mejoresOfertas = ordenadas.slice(0, 10);

    // 10 peores (de menor a mayor)
    let peoresOfertas = [...ofertas]
        .sort((a, b) => a.salario - b.salario)
        .slice(0, 10);

    // Mostrar resultados
    mostrarMejores(mejoresOfertas);
    mostrarPeores(peoresOfertas);
}

function mostrarMejores(lista) {
    const contenedor = document.getElementById("mejores-lista");
    contenedor.innerHTML = "";
    lista.forEach(oferta => {
        contenedor.innerHTML += `
            <div class="p-4 bg-green-50 border border-green-300 rounded-lg shadow hover:shadow-md transition duration-200">
                <h3 class="text-lg font-semibold text-green-700">${oferta.titulo}</h3>
                <p class="text-sm text-gray-600">Salario: <span class="font-bold">$${oferta.salario.toLocaleString()}</span></p>
                <p class="text-sm text-gray-600">Ubicación: ${oferta.ubicacion || "No especificada"}</p>
                <p class="text-sm text-gray-600">Puntaje: ${oferta.score ?? "N/A"}</p>
            </div>
        `;
    });
}

function mostrarPeores(lista) {
    const contenedor = document.getElementById("peores-lista");
    contenedor.innerHTML = "";
    lista.forEach(oferta => {
        contenedor.innerHTML += `
            <div class="p-4 bg-red-50 border border-red-300 rounded-lg shadow hover:shadow-md transition duration-200">
                <h3 class="text-lg font-semibold text-red-700">${oferta.titulo}</h3>
                <p class="text-sm text-gray-600">Salario: <span class="font-bold">$${oferta.salario.toLocaleString()}</span></p>
                <p class="text-sm text-gray-600">Ubicación: ${oferta.ubicacion || "No especificada"}</p>
                <p class="text-sm text-gray-600">Puntaje: ${oferta.score ?? "N/A"}</p>
            </div>
        `;
    });
}


});
</script>

</body>
</html>